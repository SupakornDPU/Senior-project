<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Manage Flashcard</title>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />

  <!-- Bootrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- CSS -->
  <link rel="stylesheet" href="css/classroom.css" />

  <!-- Side-bar -->
  <link rel="stylesheet" href="css/side-bar.css" />

  <!-- Data table -->
  <link href="https://cdn.datatables.net/1.13.7/css/dataTables.bootstrap5.min.css" rel="stylesheet">

</head>

<body>
  <!-- !Side bar -->
  <div class="menu-sidebar open">
    <div class="logo-details">
      <i class='bx bxl-python icon'></i>
      <div class="logo_name">PyFlash</div>
      <i class="bx bx-menu" id="btn"></i>
    </div>
    <ul class="sidebarnav-list">
      <li>
        <a href="index">
          <i class='bx bxs-home-alt-2'></i>
          <span class="links_name">Home</span>
        </a>
        <span class="tooltip">Home</span>
      </li>
      <li>
        <a  href="">
          <i class="bi bi-book-half"></i>
          <span class="links_name">Classroom</span>
        </a>
        <span class="tooltip">Classroom</span>
      </li>
      <li class="profile">
        <div class="profile-details">
          <div class="name_job">
            <div class="name">Prem Shahi</div>
            <div class="job">Web designer</div>
          </div>
        </div>
        <i class="bx bx-log-out" id="log_out"></i>
      </li>
    </ul>
  </div>
  <!-- ! End Side bar -->

  <!--!Container-->
  <div class="home-section">
    <ul class="nav nav-tabs" id="myTab" role="tablist">
      <li class="nav-item" role="presentation">
        <button class="nav-link active" id="manageFlashcards-tab" data-bs-toggle="tab"
          data-bs-target="#manageFlashcards" type="button" role="tab" aria-controls="manageFlashcards"
          aria-selected="true">Add Flashcard</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="contact-tab" data-bs-toggle="tab" data-bs-target="#contact" type="button"
          role="tab" aria-controls="contact" aria-selected="false">Manage Flashcards</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="profile-tab" data-bs-toggle="tab" data-bs-target="#profile" type="button"
          role="tab" aria-controls="profile" aria-selected="false">Add Quiz</button>
      </li>
      <li class="nav-item" role="presentation">
        <button class="nav-link" id="deck-tab" data-bs-toggle="tab" data-bs-target="#deck" type="button" role="tab"
          aria-controls="deck" aria-selected="false">Manage Quiz</button>
      </li>
    </ul>
    <div class="tab-content" id="myTabContent">
      <div class="tab-pane fade show active" id="manageFlashcards" role="tabpanel"
        aria-labelledby="manageFlashcards-tab">
        <div class="row">
          <div class="col-lg-12">
            <div class="card">
              <h2 class="font-poppin" id="titleManageFlashcard" style="font-weight: bold;margin: 0.9rem; ">Create a new
                flashcard
              </h2>
              <div class="card-body">
                <h4 class="card-title">Upload File</h4>
                <!-- <input style="display: none;" id="deckID"></input> -->
                <form action="" id="formImport">
                  <div class="row my-4">
                    <label for="formFile" class="form-label" style="font-weight: bold;">Choose File</label>
                    <div class="col-md-5 my-3">
                      <input class="form-control" type="file" id="formFile">
                    </div>
                    <div class="col-md-2 my-3">
                      <button type="submit" class="btn btn-primary" id="btnImport">Confirm</button>
                    </div>
                  </div>
                </form>
                <h4 class="card-title">Manual Create</h4>
                <div class="row">
                  <div class="row text-center my-4">
                    <div class="col-5">
                      <span style="font-weight: bold;">Question</span>
                    </div>
                    <div class="col-5">
                      <span style="font-weight: bold;">Answer</span>
                    </div>
                  </div>
                  <form id="textareaForm">
                    <div class="row" id="formQA">
                      <div class="row">
                        <div class="col-md-5 my-2">
                          <div class="input-group">
                            <textarea name="question" class="form-control" id="importquestion"
                              aria-label="With textarea" placeholder="Question"></textarea>
                          </div>
                        </div>
                        <div class="col-md-5 my-2">
                          <div class="input-group">
                            <textarea name="answer" class="form-control" id="importanswer" aria-label="With textarea"
                              placeholder="Answer"></textarea>
                          </div>
                        </div>
                        <div class="col-md-1 col-3 my-2">
                          <button type="button" class="btn btn-success" id="addBtn" onclick="addForm()"
                            style="font-weight: bold;">
                            <i class="bi bi-plus-circle"></i>Add
                          </button>
                        </div>
                      </div>
                    </div>
                    <div class="col-md-10 my-2 d-flex justify-content-center align-items-center">
                      <button type="submit" class="btn btn-secondary" style="font-weight: bold;">Submit</button>
                    </div>
                  </form>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Manage Flashcards -->
      <div class="tab-pane fade" id="contact" role="tabpanel" aria-labelledby="contact-tab">
        <div class="container-fluid">
          <!-- DataTales Example -->
          <div class="card shadow mb-4">
            <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">Flashcards Table</h6>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Id</th>
                      <th>Card Question</th>
                      <th>Card Answer</th>
                      <th>Deck Name</th>
                      <th></th>
                      <th></th>
                    </tr>
                  </thead>
                  <tfoot>
                    <tr>
                      <th>#</th>
                      <th>Id</th>
                      <th>Card Question</th>
                      <th>Card Answer</th>
                      <th>Deck Name</th>
                      <th></th>
                      <th></th>
                    </tr>
                  </tfoot>
                  <tbody id="flashcardTableBody">
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- Quiz -->
      <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
        <div class="card">
          <div class="card-body">
            <form action="" id="formAddQuiz">
              <div class="row my-5" id="blockQuiz">
                <div class="row">
                  <h3 style="text-align: center;">Question</h3>
                  <div class="row mb-3">
                    <label for="inputText" class="col-sm-2 col-form-label">Question</label>
                    <div class="col-sm-10">
                      <select id="questionInput" name="quizQuestion" class="form-select">
                        <option selected="" value="">Select...</option>
                      </select>
                    </div>
                  </div>
                  <h3 style="text-align: center;">Answer</h3>
                  <div class="row mb-3">
                    <label for="inputText" class="col-sm-2 col-form-label">Choice 1.</label>
                    <div class="col-sm-10">
                      <textarea class="form-control" id="Choice1" name="quizChoice1"
                        oninput="updateDropdown()"></textarea>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <label for="inputText" class="col-sm-2 col-form-label">Choice 2.</label>
                    <div class="col-sm-10">
                      <textarea class="form-control" id="Choice2" name="quizChoice2"
                        oninput="updateDropdown()"></textarea>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <label for="inputText" class="col-sm-2 col-form-label">Choice 3.</label>
                    <div class="col-sm-10">
                      <textarea class="form-control" id="Choice3" name="quizChoice3"
                        oninput="updateDropdown()"></textarea>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <label for="inputText" class="col-sm-2 col-form-label">Choice 4.</label>
                    <div class="col-sm-10">
                      <textarea class="form-control" id="Choice4" name="quizChoice4"
                        oninput="updateDropdown()"></textarea>
                    </div>
                  </div>
                  <div class="row mb-3">
                    <label for="inputText" class="col-sm-2 col-form-label">Correct Answer</label>
                    <div class="col-sm-10">
                      <select id="inputState" name="quizAnswerCorrect" class="form-select">
                        <option selected="" value="">Select...</option>
                      </select>
                    </div>
                  </div>
                  <div class="row text-end">
                    <div class="col-12">
                      <button type="button" class="btn btn-success" id="btnAddFormQuiz" onclick="checkQuizForm()"
                        style="font-weight: bold;">
                        <i class="bi bi-plus-circle"></i>Add
                      </button>
                    </div>
                  </div>
                  <hr class="my-4" style="border: 2px solid black;border-radius: 2px;">
                </div>
              </div>
              <div class="row">
                <div class="col-md-12 my-2 d-flex justify-content-center align-items-center">
                  <button type="submit" class="btn btn-secondary" style="font-weight: bold">
                    Submit
                  </button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
      <!-- Manage Deck -->
      <div class="tab-pane fade" id="deck" role="tabpanel" aria-labelledby="deck-tab">
        <div class="container-fluid">
          <!-- DataTales Example -->
          <div class="card shadow mb-4">
            <div class="card-header py-3">
              <h6 class="m-0 font-weight-bold text-primary">Deck Table</h6>
            </div>
            <div class="card-body">
              <div class="table-responsive">
                <table class="table table-bordered" id="dataTableQuiz" width="100%" cellspacing="0">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Id</th>
                      <th>Question</th>
                      <th>Choice1</th>
                      <th>Choice2</th>
                      <th>Choice3</th>
                      <th>Choice4</th>
                      <th>AnswerCorrect</th>
                      <th>Deck Name</th>
                      <th></th>
                      <th></th>
                    </tr>
                  </thead>
                  <tfoot>
                    <tr>
                      <th>#</th>
                      <th>Id</th>
                      <th>Question</th>
                      <th>Choice1</th>
                      <th>Choice2</th>
                      <th>Choice3</th>
                      <th>Choice4</th>
                      <th>AnswerCorrect</th>
                      <th>Deck Name</th>
                      <th></th>
                      <th></th>
                    </tr>
                  </tfoot>
                  <tbody id="quizTableBody">
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Edit Flashcard -->
  <div class="modal fade" id="editFlashcard" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="formDeckLabel" aria-hidden="true">?
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="formDeckTitle">
            Edit Decks
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="editFlashcard">
            <input type="hidden" id="inputFlashcardId" value="">
            <div class="row mb-3">
              <div class="col-3 mb-2">
                <span for="modalQuestion" class="col-form-label">Question:</span>
              </div>
              <div class="col-12">
                <textarea class="form-control" id="modalQuestion" placeholder="Question"></textarea>
                <label id="regexEditQuestion" style="color: red; display: block;"></label>
              </div>
            </div>
            <div class="row mb-3">
              <div class="col-3 mb-2">
                <span for="modalAnswer" class="col-form-label">Answer:</span>
              </div>
              <div class="col-12">
                <textarea class="form-control" id="modalAnswer" placeholder="Answer"></textarea>
                <label id="regexEditAnswer" style="color: red; display: block;"></label>
              </div>
            </div>
            <div class="row text-center">
              <div class="col-md-12">
                <button type="submit" class="btn btn-primary mt-4">Submit</button>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Modal Edit Quiz -->
  <div class="modal fade" id="editQuiz" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="formDeckLabel" aria-hidden="true">?
    <div class="modal-dialog modal-xl">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="formDeckTitle">
            Edit Decks
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form action="" id="formModalAddQuiz">
            <div class="row my-5" id="blockModalQuiz">
              <input type="text" id="inputQuizId" style="display: none;">
              <div class="row">
                <h3 style="text-align: center;">Question</h3>
                <div class="row mb-3">
                  <label for="inputText" class="col-sm-2 col-form-label">Question</label>
                  <div class="col-sm-10">
                    <select id="modalQuestionInput" name="quizModalQuestion" class="form-select">
                      <option selected="" value="">Select...</option>
                    </select>
                  </div>
                </div>
                <h3 style="text-align: center;">Answer</h3>
                <div class="row mb-3">
                  <label for="inputText" class="col-sm-2 col-form-label">Choice 1.</label>
                  <div class="col-sm-10">
                    <textarea class="form-control" id="modalChoice1" name="modalQuizChoice1"
                      oninput="updateModalDropdown()"></textarea>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputText" class="col-sm-2 col-form-label">Choice 2.</label>
                  <div class="col-sm-10">
                    <textarea class="form-control" id="modalChoice2" name="modalQuizChoice2"
                      oninput="updateModalDropdown()"></textarea>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputText" class="col-sm-2 col-form-label">Choice 3.</label>
                  <div class="col-sm-10">
                    <textarea class="form-control" id="modalChoice3" name="modalQuizChoice3"
                      oninput="updateModalDropdown()"></textarea>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputText" class="col-sm-2 col-form-label">Choice 4.</label>
                  <div class="col-sm-10">
                    <textarea class="form-control" id="modalChoice4" name="modalQuizChoice4"
                      oninput="updateModalDropdown()"></textarea>
                  </div>
                </div>
                <div class="row mb-3">
                  <label for="inputText" class="col-sm-2 col-form-label">Correct Answer</label>
                  <div class="col-sm-10">
                    <select id="inputModalState" class="form-select" name="modalQuizAnswer">
                      <option selected="" value="">Select...</option>
                    </select>
                  </div>
                </div>
                <hr class="my-4" style="border: 2px solid black;border-radius: 2px;">
              </div>
            </div>
            <div class="row">
              <div class="col-md-12 my-2 d-flex justify-content-center align-items-center">
                <button type="submit" class="btn btn-secondary" style="font-weight: bold">
                  Submit
                </button>
              </div>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" onclick="resetModalForm();" data-bs-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  <!--!End Container-->

  <script>

    // Flashcard
    function addForm() {
      const addBtn = document.getElementById('addBtn');
      const formQA = document.getElementById('formQA');
      const div = document.createElement('div'); // create div

      div.className = 'row'; // เป็นการเพิ่ม class ให้ div
      div.innerHTML = `
          <div class="col-md-5 my-2">
              <div class="input-group">
                <textarea name="question" class="form-control" aria-label="With textarea" id="importquestion" placeholder="Question"></textarea>
              </div>
          </div>
          <div class="col-md-5 my-2">
              <div class="input-group">
                <textarea name="answer" class="form-control" aria-label="With textarea" id="importanswer" placeholder="Answer"></textarea>
              </div>
          </div>
          <div class="col-md-1 col-3 my-2">
              <button type="button" class="btn btn-success" id="addBtn" onclick="addForm()" style="font-weight: bold;"><i class="bi bi-plus-circle"></i> Add</button>
          </div>
          <div class="col-md-1 col-3 my-2">
              <button type="button" class="btn btn-danger" id="delBtn" onclick="delForm()" style="font-weight: bold;"><i class="bi bi-trash"></i> Del</button>
          </div>
        `;
      formQA.appendChild(div); // เป็นการเพิ่ม div ลงไปใน formQA
    }

    function delForm() {
      const formQA = document.getElementById('formQA');
      formQA.removeChild(formQA.lastChild);
    }


    // Quiz
    function updateDropdown() {
      // รับ reference ของ dropdown
      const dropdown = document.querySelectorAll('select[id=inputState]')[document.querySelectorAll('select[id=inputState]').length - 1];

      // ลบตัวเลือกที่มีอยู่
      dropdown.innerHTML = '';

      // เพิ่มตัวเลือกใหม่ด้วยข้อความจาก input
      for (var i = 1; i <= 4; i++) {
        const choiceInput = document.querySelectorAll('textarea[id=Choice' + i + ']')[document.querySelectorAll('textarea[id=Choice' + i + ']').length - 1];

        const text = choiceInput.value.trim(); // นำข้อความจาก textarea มาใส่ในตัวเลือก

        // ถ้าข้อความไม่ว่าง ให้เพิ่มตัวเลือก
        if (text !== '') {
          const option = document.createElement('option');
          option.value = text;
          option.text = text;
          dropdown.add(option);
        }
      }
    }

    function addFormQuiz() {
      const btnAddFormQuiz = document.getElementById('btnAddFormQuiz');
      const blockQuiz = document.getElementById('blockQuiz');
      const div = document.createElement('div');

      div.className = 'row'; // เป็นการเพิ่ม class ให้ div
      div.innerHTML = `
        <h3 style="text-align: center;">Question</h3>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Question</label>
          <div class="col-sm-10">
            <select id="modalQuestionInput" name="quizModalQuestion" class="form-select">
              <option selected="" value="">Select...</option>
            </select>
          </div>
        </div>
        <h3 style="text-align: center;">Answer</h3>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 1.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice1" name="quizChoice1" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 2.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice2" name="quizChoice2" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 3.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice3" name="quizChoice3" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 4.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice4" name="quizChoice4" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Correct Answer</label>
          <div class="col-sm-10">
            <select id="inputState" class="form-select">
              <option selected="" value="">Select...</option>
            </select>
          </div>
        </div>
        <div class="row text-end">
          <div class="col-12">
            <button type="button" class="btn btn-success" id="btnAddFormQuiz" onclick="checkQuizForm()"
              style="font-weight: bold;">
              <i class="bi bi-plus-circle"></i>Add 
            </button>
            <button type="button" class="btn btn-danger" id="addBtn" onclick="delFormQuiz()" style="font-weight: bold;"><i  class="bi bi-trash"></i> Del
            </button>
          </div>
        </div>
        <hr class="my-4" style="border: 2px solid black;border-radius: 2px;">
      `
      blockQuiz.appendChild(div);

        
    }

    function delFormQuiz() {
      const blockQuiz = document.getElementById('blockQuiz');
      blockQuiz.removeChild(blockQuiz.lastChild);
    }

    function checkQuizForm() {
      // regEx เช็คทุกฟอร์มว่ามีข้อมูลหรือเปล่าห้ามเป็นค่าว่าง
      const questionInput = document.querySelectorAll('select[id=questionInput]')[document.querySelectorAll('select[id=questionInput]').length - 1];

      const choice1 = document.querySelectorAll('textarea[id=Choice1]')[document.querySelectorAll('textarea[id=Choice1]').length - 1];
      const choice2 = document.querySelectorAll('textarea[id=Choice2]')[document.querySelectorAll('textarea[id=Choice2]').length - 1];
      const choice3 = document.querySelectorAll('textarea[id=Choice3]')[document.querySelectorAll('textarea[id=Choice3]').length - 1];
      const choice4 = document.querySelectorAll('textarea[id=Choice4]')[document.querySelectorAll('textarea[id=Choice4]').length - 1];

      const inputState = document.querySelectorAll('select[id=inputState]')[document.querySelectorAll('select[id=inputState]').length - 1];

      if (questionInput.value.trim() === '' || choice1.value.trim() === '' || choice2.value.trim() === '' || choice3.value.trim() === '' || choice4.value.trim() === '' || inputState.value === 'Select...') {
        Swal.fire({
          icon: 'error',
          title: 'Oops...',
          text: 'Please fill in all the fields!',
        });
      } else {
        addFormQuiz();
      }
    }

    // ปิด modal แล้ว reset form
    function resetForm() {
      // console.log('reset form');
      const formQuiz = document.querySelector('form[id="formAddQuiz"]');
      formQuiz.reset();
      const blockQuiz = document.getElementById('blockQuiz');

      // ลบตัวเลือกที่มีอยู่
      const dropdown = document.getElementById('inputState');
      dropdown.innerHTML = '';

      // ลบ form ที่เพิ่มมา ยกเว้นตัวแรก
      while (blockQuiz.children.length > 1) {
        blockQuiz.removeChild(blockQuiz.lastChild);
      }
    }

    // Modal Edit Flashcard
    function updateModalDropdown() {

      // รับ reference ของ dropdown
      const dropdownModal = document.querySelectorAll('select[id=inputModalState]')[document.querySelectorAll('select[id=inputModalState]').length - 1];

      // ลบตัวเลือกที่มีอยู่
      dropdownModal.innerHTML = '';

      // เพิ่มตัวเลือกใหม่ด้วยข้อความจาก input
      for (var i = 1; i <= 4; i++) {
        const choiceInput = document.querySelectorAll('textarea[id=modalChoice' + i + ']')[document.querySelectorAll('textarea[id=modalChoice' + i + ']').length - 1];

        const text = choiceInput.value.trim(); // นำข้อความจาก textarea มาใส่ในตัวเลือก

        // ถ้าข้อความไม่ว่าง ให้เพิ่มตัวเลือก
        if (text !== '') {
          const option = document.createElement('option');
          option.value = text;
          option.text = text;
          dropdownModal.add(option);
        }
      }
    }

    function delModalFormQuiz() {
      const blockQuiz = document.getElementById('blockModalQuiz');
      blockQuiz.removeChild(blockQuiz.lastChild);
    }

    function checkModalQuizForm() {
      // regEx เช็คทุกฟอร์มว่ามีข้อมูลหรือเปล่าห้ามเป็นค่าว่าง
      const questionInput = document.querySelectorAll('select[id=modalQuestionInput]')[document.querySelectorAll('select[id=modalQuestionInput]').length - 1];

      const choice1 = document.querySelectorAll('textarea[id=modalChoice1]')[document.querySelectorAll('textarea[id=modalChoice1]').length - 1];
      const choice2 = document.querySelectorAll('textarea[id=modalChoice2]')[document.querySelectorAll('textarea[id=modalChoice2]').length - 1];
      const choice3 = document.querySelectorAll('textarea[id=modalChoice3]')[document.querySelectorAll('textarea[id=modalChoice3]').length - 1];
      const choice4 = document.querySelectorAll('textarea[id=modalChoice4]')[document.querySelectorAll('textarea[id=modalChoice4]').length - 1];

      const inputState = document.querySelectorAll('select[id=inputModalState]')[document.querySelectorAll('select[id=inputModalState]').length - 1];

      if (questionInput.value.trim() === '' || choice1.value.trim() === '' || choice2.value.trim() === '' || choice3.value.trim() === '' || choice4.value.trim() === '' || inputState.value === 'Select...') {
        Swal.fire({
          icon: 'error',
          title: 'Oops...',
          text: 'Please fill in all the fields!',
        });
      } else {
        addFormQuiz();
      }
    }

    // ปิด modal แล้ว reset form
    function resetModalForm() {
      // console.log('reset form');
      const formQuiz = document.querySelector('form[id="formModalAddQuiz"]');
      formQuiz.reset();
      const blockQuiz = document.getElementById('blockModalQuiz');

      // ลบตัวเลือกที่มีอยู่
      const dropdown = document.getElementById('inputModalState');
      dropdown.innerHTML = '';

      // ลบ form ที่เพิ่มมา ยกเว้นตัวแรก
      while (blockQuiz.children.length > 1) {
        blockQuiz.removeChild(blockQuiz.lastChild);
      }
    }
  </script>

  <!-- Side-bar -->
  <script src="js/side-bar.js"></script>

  <!-- SCRIPT -->
  <script src="js/script.js"></script>
  <script src="js/manageDeck.js"></script>

  <!-- Bootrap 5 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Sweet Alert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

  <!-- Data table -->
  <script src="vendor/datatables/jquery.dataTables.min.js"></script>
  <script src="vendor/datatables/dataTables.bootstrap4.min.js"></script>
  <script src="js/demo/datatables-demo.js"></script>

</body>

</html>