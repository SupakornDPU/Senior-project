<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Classroom</title>

  <!-- Font Awesome -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet" />
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet" />

  <!-- Bootrap 5 -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- CSS -->
  <link rel="stylesheet" href="css/classroom.css" />

  <!-- Side-bar -->
  <link rel="stylesheet" href="css/side-bar.css" />

  <style>
    .col-md-12 p {
      color: white;
    }
  </style>

</head>

<body>
  <!-- !Side bar -->
  <div class="menu-sidebar open">
    <div class="logo-details">
      <i class='bx bxl-python icon'></i>
      <div class="logo_name">PyFlash</div>
      <i class="bx bx-menu" id="btn"></i>
    </div>
    <ul class="sidebarnav-list">
      <li>
        <a href="index">
          <i class='bx bxs-home-alt-2'></i>
          <span class="links_name">Home</span>
        </a>
        <span class="tooltip">Home</span>
      </li>
      <li>
        <a href="" id="sidebarClassroom">
          <i class="bi bi-book-half"></i>
          <span class="links_name">Classroom</span>
        </a>
        <span class="tooltip">Classroom</span>
      </li>

      <li class="profile">
        <div class="profile-details">
          <div class="name_job">
            <div class="name">Prem Shahi</div>
            <div class="job">Web designer</div>
          </div>
        </div>
        <i class="bx bx-log-out" id="log_out"></i>
      </li>
    </ul>
  </div>
  <!-- !End Sidebar -->

  <!--!Container-->
  <!-- Button Create Flashcard -->
  <div class="header-section d-flex justify-content-end align-items-center" style="padding-right: 4rem;">
    <div class="row">
      <div class="col-md-12 m-0 p-0">
        <a class="btn btn-primary font-poppin" role="button" href="#createdeck" style="font-weight: bold;"
          onclick="btncreatedeck()" id="btnCreateDeck">
          <i class="bi bi-plus-circle"></i>
          Create Deck
        </a>
      </div>
    </div>
  </div>
  <!-- Button Create Flashcard -->

  <div class="home-section">
    <input style="display: none;" id="deckID"></input>
    <!-- Deck Card -->
    <div class="row">
      <div class="col-12 mb-5">
        <div class="ag-format-container">
          <div class="ag-courses_box" id="innerhtmlclassflash">
          </div>
        </div>
      </div>
    </div>
    <!-- Deck Card -->
  </div>

  <div class="modal fade" id="addQuiz" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="flashcardLabel" aria-hidden="true">?
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h5 class="modal-title" id="flashcardTitle">
            Add Quiz
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <!-- End Modal Header -->

        <!-- Modal Body -->
        <div class="modal-body">
          <form action="" id="formAddQuiz">
            <div class="row my-5" id="blockQuiz">
              <h3 style="text-align: center;">Question</h3>
              <div class="row mb-3">
                <label for="inputText" class="col-sm-2 col-form-label">Question</label>
                <div class="col-sm-10">
                  <textarea class="form-control" id="questionInput" name="quizQuestion"></textarea>
                </div>
              </div>
              <h3 style="text-align: center;">Answer</h3>
              <div class="row mb-3">
                <label for="inputText" class="col-sm-2 col-form-label">Choice 1.</label>
                <div class="col-sm-10">
                  <textarea class="form-control" id="Choice1" name="quizChoice1" oninput="updateDropdown()"></textarea>
                </div>
              </div>
              <div class="row mb-3">
                <label for="inputText" class="col-sm-2 col-form-label">Choice 2.</label>
                <div class="col-sm-10">
                  <textarea class="form-control" id="Choice2" name="quizChoice2" oninput="updateDropdown()"></textarea>
                </div>
              </div>
              <div class="row mb-3">
                <label for="inputText" class="col-sm-2 col-form-label">Choice 3.</label>
                <div class="col-sm-10">
                  <textarea class="form-control" id="Choice3" name="quizChoice3" oninput="updateDropdown()"></textarea>
                </div>
              </div>
              <div class="row mb-3">
                <label for="inputText" class="col-sm-2 col-form-label">Choice 4.</label>
                <div class="col-sm-10">
                  <textarea class="form-control" id="Choice4" name="quizChoice4" oninput="updateDropdown()"></textarea>
                </div>
              </div>
              <div class="row mb-3">
                <label for="inputText" class="col-sm-2 col-form-label">Correct Answer</label>
                <div class="col-sm-10">
                  <select id="inputState" class="form-select" onchange="displaySelectedOption()">
                    <option selected="">Select...</option>
                  </select>
                </div>
              </div>
              <div class="row text-end">
                <div class="col-12">
                  <button type="button" class="btn btn-success" id="btnAddFormQuiz" onclick="addFormQuiz()"
                    style="font-weight: bold;">
                    <i class="bi bi-plus-circle"></i>Add 
                  </button>
                </div>
              </div>
              <hr class="my-4" style="border: 2px solid black;border-radius: 2px;">
            </div>
            <div class="row">
              <div class="col-md-12 my-2 d-flex justify-content-center align-items-center">
                <button type="submit" class="btn btn-secondary" style="font-weight: bold">
                  Submit
                </button>
              </div>
            </div>
          </form>
        </div>

        <!-- End Modal Body -->
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  </div>
  <!-- !End Container -->

  <div class="modal fade" id="manageFlashcards" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="flashcardLabel" aria-hidden="true">?
    <div class="modal-dialog modal-dialog-scrollable modal-lg">
      <div class="modal-content">

        <!-- Modal Header -->
        <div class="modal-header">
          <h5 class="modal-title" id="flashcardTitle">
            Manage Flashcard
          </h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <!-- End Modal Header -->

        <!-- Modal Body -->
        <div class="modal-body">
          <div class="row">
            <div class="col-lg-12">
              <div class="card">
                <div class="card-body">
                  <h4 class="card-title">Upload File</h4>
                  <!-- <input style="display: none;" id="deckID"></input> -->
                  <form action="" id="formImport">
                    <div class="row my-4">
                      <label for="formFile" class="form-label" style="font-weight: bold;">Choose File</label>
                      <div class="col-md-5 my-3">
                        <input class="form-control" type="file" id="formFile">
                      </div>
                      <div class="col-md-2 my-3">
                        <button type="submit" class="btn btn-primary" id="btnImport">Confirm</button>
                      </div>
                    </div>
                  </form>
                  <h4 class="card-title">Manual Create</h4>
                  <div class="row">
                    <div class="row text-center my-4">
                      <div class="col-5">
                        <span style="font-weight: bold;">Question</span>
                      </div>
                      <div class="col-5">
                        <span style="font-weight: bold;">Answer</span>
                      </div>
                    </div>
                    <form id="textareaForm">
                      <div class="row" id="formQA">
                        <div class="row">
                          <div class="col-md-5 my-2">
                            <div class="input-group">
                              <textarea name="question" class="form-control" id="importquestion"
                                aria-label="With textarea" placeholder="Question"></textarea>
                            </div>
                          </div>
                          <div class="col-md-5 my-2">
                            <div class="input-group">
                              <textarea name="answer" class="form-control" id="importanswer" aria-label="With textarea"
                                placeholder="Answer"></textarea>
                            </div>
                          </div>
                          <div class="col-md-1 col-3 my-2">
                            <button type="button" class="btn btn-success" id="addBtn" onclick="addForm()"
                              style="font-weight: bold;">
                              <i class="bi bi-plus-circle"></i>Add
                            </button>
                          </div>
                        </div>
                      </div>
                      <div class="col-md-10 my-2 d-flex justify-content-center align-items-center">
                        <button type="submit" class="btn btn-secondary" style="font-weight: bold;">Submit</button>
                      </div>
                    </form>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <!-- End Modal Body -->

        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">
            Close
          </button>
        </div>
      </div>
    </div>
  </div>
  <!-- !End Container -->

  <!-- FORMPOP CREATE DECK -->
  <div class="overlay" id="createdeck">
    <div class="row">
      <div class="col-md-12" style="padding-left: 50px;">
        <div class="wrapper">
          <h2>Create Deck</h2><a class="close" href="#">&times;</a>
          <div class="content">
            <div class="container">
              <form id="createdeck">
                <label class="font-poppin" style="font-size: 25px;">Deck Name</label>
                <input style="display: none;" for="" id="createdeckid">
                <input placeholder="Enter Your Deck name.." type="text" class="" value="" id="deckname"
                  pattern="^[a-zA-Z0-9]{1,12}$" required>
                <input style="display: none;" value="" id="teacherid">
                <input style="display: none;" value="" id="adminid">
                <input type="submit" value="Create" class="btn-add" id="createdata" style="background-color :#4723D9 ;">
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- FORMPOP EDIT DECK -->
  <div class="overlay" id="formeditdeck">
    <div class="row">
      <div class="col-md-12" style="padding-left: 50px;">
        <div class="wrapper">
          <h2 class="font-poppin">Update Deck</h2><a class="close" href="#">&times;</a>
          <div class="content">
            <div class="container">
              <form id="updatedecks">
                <label class="font-poppin">Deck name</label>
                <input placeholder="Your classname.." type="text" value="" id="updatenamedeck"
                  pattern="^[a-zA-Z0-9]{1,8}$" required>
                <input style="display: none;" value="Supakorn Dongkew" id="updatecreator">
                <input style="display: none;" value="" id="updateteacherid">
                <input style="display: none;" value="" id="updateadminid">
                <input type="submit" value="Update" class="btn-add" id="updatedata">
                <a class="" id="btndelete" href="#" onclick="btndeletedeck()">DELETE</a>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>

    function addForm() {
      const addBtn = document.getElementById('addBtn');
      const formQA = document.getElementById('formQA');
      const div = document.createElement('div'); // create div

      div.className = 'row'; // เป็นการเพิ่ม class ให้ div
      div.innerHTML = `
          <div class="col-md-5 my-2">
              <div class="input-group">
                <textarea name="question" class="form-control" aria-label="With textarea" id="importquestion" placeholder="Question"></textarea>
              </div>
          </div>
          <div class="col-md-5 my-2">
              <div class="input-group">
                <textarea name="answer" class="form-control" aria-label="With textarea" id="importanswer" placeholder="Answer"></textarea>
              </div>
          </div>
          <div class="col-md-1 col-3 my-2">
              <button type="button" class="btn btn-success" id="addBtn" onclick="addForm()" style="font-weight: bold;"><i class="bi bi-plus-circle"></i> Add</button>
          </div>
          <div class="col-md-1 col-3 my-2">
              <button type="button" class="btn btn-danger" id="addBtn" onclick="delForm()" style="font-weight: bold;"><i class="bi bi-trash"></i> Del</button>
          </div>
        `;
      formQA.appendChild(div); // เป็นการเพิ่ม div ลงไปใน formQA
    }

    function delForm() {
      const formQA = document.getElementById('formQA');
      formQA.removeChild(formQA.lastChild);
    }

    function updateDropdown() {
      // รับ reference ของ dropdown
      var dropdown = document.getElementById('inputState');

      // ลบตัวเลือกที่มีอยู่
      dropdown.innerHTML = '';

      // เพิ่มตัวเลือกใหม่ด้วยข้อความจาก input
      for (var i = 1; i <= 4; i++) {
        var choiceInput = document.getElementById('Choice' + i);
        var text = choiceInput.value.trim();

        if (text !== '') {
          var option = document.createElement('option');
          option.value = text;
          option.text = text;
          dropdown.add(option);
        }
      }
    }

    function displaySelectedOption() {
      var selectedOption = document.getElementById('inputState').value;
      console.log('Selected Option:', selectedOption);
      // นำข้อมูลที่เลือกไปใช้ต่อที่นี่
      // ตัวอย่างเช่น นำไปใช้ส่งข้อมูลไปยังเซิร์ฟเวอร์, บันทึกลงฐานข้อมูล, หรือทำงานอื่น ๆ
    }

    function addFormQuiz() {
      const btnAddFormQuiz = document.getElementById('btnAddFormQuiz');
      const blockQuiz = document.getElementById('blockQuiz');
      const div = document.createElement('div');

      div.className = 'row'; // เป็นการเพิ่ม class ให้ div
      div.innerHTML = `
        <h3 style="text-align: center;">Question</h3>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Question</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="questionInput" name="quizQuestion"></textarea>
          </div>
        </div>
        <h3 style="text-align: center;">Answer</h3>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 1.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice1" name="quizChoice1" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 2.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice2" name="quizChoice2" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 3.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice3" name="quizChoice3" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Choice 4.</label>
          <div class="col-sm-10">
            <textarea class="form-control" id="Choice4" name="quizChoice4" oninput="updateDropdown()"></textarea>
          </div>
        </div>
        <div class="row mb-3">
          <label for="inputText" class="col-sm-2 col-form-label">Correct Answer</label>
          <div class="col-sm-10">
            <select id="inputState" class="form-select" onchange="displaySelectedOption()">
              <option selected="">Select...</option>
            </select>
          </div>
        </div>
        <div class="row text-end">
          <div class="col-12">
            <button type="button" class="btn btn-success" id="btnAddFormQuiz" onclick="addFormQuiz()"
              style="font-weight: bold;">
              <i class="bi bi-plus-circle"></i>Add 
            </button>
            <button type="button" class="btn btn-danger" id="addBtn" onclick="delFormQuiz()" style="font-weight: bold;"><i  class="bi bi-trash"></i> Del
            </button>
          </div>
        </div>
        <hr class="my-4" style="border: 2px solid black;border-radius: 2px;">
      `
      blockQuiz.appendChild(div);
    }

    function delFormQuiz() {
      const blockQuiz = document.getElementById('blockQuiz');
      blockQuiz.removeChild(blockQuiz.lastChild);
    }
  </script>

  <!-- Side-bar -->
  <script src="js/side-bar.js"></script>

  <!-- SCRIPT -->
  <script src="js/script.js"></script>
  <script src="js/deck.js"></script>

  <!-- Bootrap 5 -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

  <!-- Sweetalert -->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</body>

</html>